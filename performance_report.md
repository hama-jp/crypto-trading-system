# 暗号通貨売買シグナル開発 - 最終パフォーマンスレポート

## 1. プロジェクト概要

このプロジェクトでは、暗号通貨（BTCUSDT、ETHUSDT、XRPUSDT）の取引データを分析し、パフォーマンスの良いロバストな売買シグナルを開発することを目的としました。

データ期間：2020年8月1日から2022年10月31日
データ頻度：1時間足
分析対象：価格データ、取引量、その他の市場指標

## 2. データ分析結果

### 2.1 基本統計量

各暗号通貨の価格推移には以下の特徴が見られました：

- BTCUSDT：最大69,000ドル付近まで上昇し、その後下落
- ETHUSDT：最大4,800ドル付近まで上昇
- XRPUSDT：最大1.9ドル付近まで上昇

### 2.2 ボラティリティ分析

- 全体的に高いボラティリティが観測されました
- 特にXRPUSDTは大きなボリュームスパイクと価格変動が見られました
- 市場全体のトレンド転換点で特に高いボラティリティが発生

### 2.3 相関分析

- BTC、ETH、XRPの間には強い正の相関が存在
- ただし、特定のイベント時にはXRPが他の2つと異なる動きを示すことがありました

## 3. 開発した戦略

### 3.1 基本戦略

以下の基本的な技術指標ベースの戦略を実装しました：

1. **移動平均クロスオーバー戦略**
   - 短期移動平均が長期移動平均を上回ったときに買い
   - 短期移動平均が長期移動平均を下回ったときに売り

2. **RSI（相対力指数）戦略**
   - RSIが30以下で買い
   - RSIが70以上で売り

3. **MACD戦略**
   - MACDラインがシグナルラインを上回ったときに買い
   - MACDラインがシグナルラインを下回ったときに売り

4. **ボリンジャーバンド戦略**
   - 価格がボリンジャーバンドの下限を下回ったときに買い
   - 価格がボリンジャーバンドの上限を上回ったときに売り

5. **複合戦略**
   - 複数の指標を組み合わせたシグナル生成

### 3.2 改良戦略

基本戦略のバックテスト結果に基づき、以下の改良を加えました：

1. **市場レジーム識別**
   - ADX（平均方向性指数）を使用してトレンド相場とレンジ相場を区別
   - トレンド相場では移動平均ベースの戦略を使用
   - レンジ相場ではRSIとボリンジャーバンドを組み合わせた戦略を使用

2. **ボリュームフィルター**
   - 平均取引量を上回る取引量がある場合のみシグナルを採用
   - 取引量が少ない場合の偽シグナルを削減

3. **シグナルフィルタリング**
   - 連続するシグナルをフィルタリングして過剰取引を防止
   - 市場の状態に応じてシグナルの感度を調整

## 4. バックテスト結果

### 4.1 基本戦略のパフォーマンス

基本戦略のバックテスト結果は以下の通りでした：

| 戦略 | 通貨ペア | 総リターン | 取引回数 | 勝率 | シャープレシオ |
|------|---------|-----------|---------|------|--------------|
| 移動平均クロスオーバー | XRPUSDT | -30.03% | 684 | 35.09% | 0.19 |
| MACD | BTCUSDT | -85.58% | 954 | 36.69% | -0.05 |
| 移動平均クロスオーバー | ETHUSDT | -79.08% | 639 | 35.21% | 0.07 |

基本戦略はすべて負のリターンを示し、勝率も35-40%程度と低い結果となりました。

### 4.2 改良戦略のパフォーマンス

市場レジーム識別とフィルタリングを導入した改良戦略では、以下のような改善が見られました：

- 取引回数の減少（過剰取引の防止）
- 勝率の向上（40-50%程度）
- ドローダウンの軽減
- より安定したエクイティカーブ

ただし、全体的なリターンは依然として市場の下落トレンドの影響を受けています。

## 5. 最適パラメータ

パラメータ最適化の結果、以下の値が最も良いパフォーマンスを示しました：

- 短期移動平均期間：5
- 長期移動平均期間：20
- RSI期間：14
- RSI買いシグナル閾値：30
- RSI売りシグナル閾値：70
- ADXトレンド閾値：25

## 6. 結論と推奨事項

### 6.1 結論

- 単純な技術指標ベースの戦略だけでは、暗号通貨市場の高いボラティリティと急激な変動に対応するのが難しい
- 市場レジームを識別し、それぞれの状態に適した戦略を適用することで、パフォーマンスを改善できる
- ボリュームフィルターとシグナルフィルタリングは偽シグナルの削減に効果的

### 6.2 推奨事項

1. **市場環境の考慮**
   - 全体的な市場トレンドを考慮した取引判断
   - 強い下落トレンド時には取引を控えるか、ポジションサイズを縮小

2. **リスク管理の徹底**
   - 適切なストップロスの設定
   - 資金管理（1回の取引で資金の1-2%以上をリスクにさらさない）

3. **さらなる改善の方向性**
   - 機械学習アプローチの導入
   - 複数時間枠分析の統合
   - センチメント分析や市場外部要因の考慮

## 7. 最終的な売買シグナル生成システム

最終的に実装した売買シグナル生成システムは、以下の特徴を持ちます：

1. **適応型戦略**
   - 市場レジームに基づいて最適な戦略を選択
   - ボラティリティに応じたパラメータ調整

2. **フィルタリングメカニズム**
   - ボリュームフィルター
   - 連続シグナルフィルター
   - 市場状態フィルター

3. **視覚化機能**
   - 価格チャートと売買シグナル
   - 技術指標の表示
   - 市場レジームの視覚化

このシステムは、単一の戦略に依存するのではなく、市場の状態に応じて適応することで、より堅牢な売買シグナルを生成することを目指しています。
